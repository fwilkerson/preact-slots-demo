var t=require("preact"),n=function(){};n.prototype.getChildContext=function(){return{slots:{named:{},onChange:{}}}},n.prototype.render=function(t){return t.children[0]};var o=function(){};function e(n,o){var e,r=this;t.Component.call(this,n,o);var p=function(){var t=r.props,n=r.state,o=r.context.slots.named[t.name];n.content&&o==n.content[t.name]||r.setState({content:Object.assign({},n.content,(e={},e[t.name]=o,e))})};this.componentDidMount=function(){r.context.slots.onChange[r.props.name]=p},this.componentWillUnmount=function(){r.context.slots.onChange[r.props.name]=p},p()}o.prototype.apply=function(t,n,o){var e=this.context.slots;if(t&&(e.named[t]=n,o)){var r=e.onChange[t];r&&r()}},o.prototype.componentDidMount=function(){this.apply(this.props.slot,this.props.children,!0)},o.prototype.componentWillReceiveProps=function(t){var n=t.slot,o=t.children;n!==this.props.slot?(this.apply(this.props.slot,null,!1),this.apply(n,o,!0)):o!==this.props.children&&this.apply(n,o,!0)},o.prototype.componentWillUnmount=function(){this.apply(this.props.slot,null,!0)},o.prototype.render=function(){return null},(e.prototype=new t.Component).constructor=e,e.prototype.render=function(t,n){var o=n.content;void 0===o&&(o={});var e=t.children[0];return"function"==typeof e?e(o[t.name]):o[t.name]&&o[t.name][0]||e},exports.SlotProvider=n,exports.SlotContent=o,exports.Slot=e,exports.withSlot=function(n,o){return function(r){return function(p){return t.h(e,{name:n},function(e){var i={};for(var s in i[o||n]=e,p)i[s]=p[s];return t.h(r,i)})}}};
//# sourceMappingURL=preact-slots.js.map
